# 進捗

2023/09/02 [Learning Lukasiewicz Logic Fragments by Quadratic Programming](http://ecmlpkdd2017.ijs.si/papers/paperID223.pdf) を読み始める

2023/09/03 引き続き論文を読む

2023/09/28 主問題を cvxopt で解いた

2023/09/29 主問題を cvxpy で解いた．おそらく以前実装した dual の目的関数で作った M と q が間違っていることに気づいた．

2023/09/30 二次形式で書いた主問題の目的関数と制約が間違えていて，最適化結果が望まれたものではなかったので，愚直なループでの実装に変更した

2023/10/01 KB の論理式から自動的に制約を定義するためのプログラムの作成に取り掛かる

2023/10/07 FOL の変換プログラム作成の続き

2023/10/08 FOL の変換プログラム作成の続き，分配法則，ド・モルガンは結局実装しないといけない感じがしている

2023/10/10 とりあえず，logical constraints の自動生成に必要な範囲での FOL の変換の実装を完了

2023/10/14 csv と txt として渡されたデータと KB から目的関数と制約を自動で生成できるようになった

2023/10/15 昨日のコードが完全には上手く動いていないことが判明した．コードにはコメントを書く．

2023/10/21 imagenet の基礎統計を取る．giraffe がない（kaggle のデータセット）tiger もなかった

2023/10/22 画像の変換等．各動物付き，1300 枚だと，objective function の構成時に vscode が落ちた．Setup クラスをファイルパスの指定だけではなくて，直接データを流し込めるようにカスタマイズしたい．Setup に普通に間違っているところがありそう（特に logical constraints を生成するところ）．

2023/10/28 
- 実験用 ipynb ファイルと自作パッケージのパスの関係．poetry pyproject.toml ー＞ ~~普通に utils ディレクトリの下に置けばよいだけか~~ ー＞ 結局 sys.append した
- negation の適用可能な論理演算子の種類を増やした（winston の方でエラーが出ていたため）覚えてないうちに変な変更を加えていたらしい
- 正解データの準備等で面倒が発生しているので，csv からのデータの読み込みと problem_instance を切り離す

2023/10/29 ドキュメンテーション
  
2023/11/04 風邪で休み

2023/11/05 風邪で休み

2023/11/19 RuleFit で Pima Indian Diabetes のデータの KB を作成
  
2023/11/25 Pima Indian Diabetes に論文の提案アルゴリズムを適用

2023/11/26 目的関数を損失関数として実装

2023/11/27 Pima Indian Diabetes のデータは正解ラベルに偏りがあるので，評価項目に auc を追加 

2023/12/02 ルールを複数のグループに分けて目的関数に階層化された重み付き制約を導入する

2023/12/03 
- Setup クラスの construct_objective_function メソッドを分離して外で作成した色々なバリエーションを気軽に実験できるようにした
- （論理）制約の重みの付け方を色々ためした．（shap の入れ方等）
- pointwise 制約のほうの重みづけはまだ行っていない






